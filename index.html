<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- 
 - todoTxtWebUi
 - 
 - This HTML5 web page was created according to the specifications at
 - http://todotxt.com/ and is intended to allow users to access their
 - todo.txt files in a user-friendly and easy to visualize manner.
 -
 - Once initially uploaded, the todo.txt file will
 - be loaded into an HTML5 localStorage and managed from there.
 - The web page then allows downloading changes back to the user
 - in a txt format compliant with the todo.txt specifications, but
 - having re-sorted the tasks.
 - 
 - @Created: 08/14/2012
 - @Author: Jason Holt Smith (bicarbon8@gmail.com)
 - @Version: 0.0.1
 - Copyright (c) 2012 Jason Holt Smith. todoTxtWebUi is distributed under
 - the terms of the GNU General Public License.
 - 
 - This file is part of todoTxtWebUi.
 - 
 - todoTxtWebUi is free software: you can redistribute it and/or modify
 - it under the terms of the GNU General Public License as published by
 - the Free Software Foundation, either version 3 of the License, or
 - (at your option) any later version.
 - 
 - todoTxtWebUi is distributed in the hope that it will be useful,
 - but WITHOUT ANY WARRANTY; without even the implied warranty of
 - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 - GNU General Public License for more details.
 - 
 - You should have received a copy of the GNU General Public License
 - along with todoTxtWebUi.  If not, see <http://www.gnu.org/licenses/>.
 -->
<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/todoTxt.css" />
	<link rel="stylesheet" type="text/css" href="css/defaultTheme.css" />
	<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
	<script type="text/javascript" src="js/jquery-ui-1.8.22.custom.min.js"></script>
	<script type="text/javascript" src="js/todoTxt.js"></script>
	<script type="text/javascript" src="js/objects/utils.js"></script>
	<script type="text/javascript" src="js/classes/task.js"></script>
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-35011839-1']);
		_gaq.push(['_trackPageview']);
		(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();

		/**
		 * this will load any items that need to be configured at page
		 * load time such as event handlers, etc.
		 */
		$(document).ready(function() {
			// enable hiding and showing of the controls section
			$("#controlGridContainerToggle-div").click(function() {
				// update the button text
				if ($("#controlGridContainer-li").is(":visible") == true) { 
					$("#controlGridContainerToggle-div").text("Open Controls");
				} else {
					$("#controlGridContainerToggle-div").text("Close Controls");
				}
				
				// toggle display state with animation
				$("#controlGridContainer-li").toggle('blind');
				
				return false;
			});
			
			// enable canceling task edit by clicking outside the modalEdit-div
			$("#modalBorder-div").click(function() {
				// disable click handling
				TodoTxtJs.unbindModalEvents();
				
				// and hide
				$("#modalBorder-div").toggle();
			}).children().click(function(e) {
				// ignore clicks in child elements
				return false;
			});
			
			// check for pre-existing tasks in localStorage on startup
			TodoTxtJs.processTasksFromLocalStorage();
			
			// display any filters
			TodoTxtJs.refreshFilters();
			
			// enable keyboard shortcuts and click events for the controls area
			TodoTxtJs.bindControlEvents();
		});
	</script>
</head>
<body>
	<div id="mainContainer-div">
		<div id="controlsContainer-div">
			<ul>
				<li id="controlGridContainerToggle-li" class="topRound">
					<div id="controlGridContainerToggle-div" class="stdButton">Close Controls</div>
				</li>
				<li id="controlGridContainer-li" class="controls">
    				<table>
						<tbody>
							<tr>
								<td>
									<input type="file" id="fileUpload-input" />
									<div id="fileDrop-div" class="fileDrop">Drop todo.txt file here</div>
								</td>
							</tr>
							<tr>
								<td>
									<select id="priority-select" multiple></select>
									<select id="project-select" multiple></select>
									<select id="context-select" multiple></select>
									<input id="showClosed-checkbox" class="hidden" type="checkbox" checked />
								</td>
							</tr>
							<tr>
								<td>
									<div id="addTaskButton-div" onclick="TodoTxtJs.createTask();" class="stdButton">Add New Task (Alt + t)</div>
									<div id="saveFileButton-div" class="stdButton">Save To File (Alt + s)</div>
									<div id="clearFilterButton-div" class="stdButton">Clear Filters (Alt + c)</div>
								</td>
							</tr>
						</tbody>
					</table>
				</li>
			</ul>
		</div>
		<div id="listContainer-div">
			<ul id="listContainer-ul"></ul>
		</div>
		<div id="footer-div">
			<ul id="footer-ul">
				<li class="bottomRound">
					<div id="navigateToTop-div" class="stdButton">To Top</div>
				</li>
			</ul>
		</div>
	</div>
</body>
</html>
